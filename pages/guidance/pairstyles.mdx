# LAMMPS Key Concepts

Before we look at an LAMMPS input file, it is worthwhile to introduce a few key concepts and how they relate to input files.

## Pair styles

An inter-atomic potential is known as `pair_style` in LAMMPS (see [manual](https://lammps.sandia.gov/doc/atom_style.html)). You need to specify these for every pair of atomic species. You need to specify

- style (type of potential)
- cutoff distance
- interactions coefficients
- and maybe more, deoending on the pair style

> Usually, one style is defined for the entire simulation, but hybrids consisting of different styles for different pair interactions are possible as well. There is a rather long [list of pair styles](https://lammps.sandia.gov/doc/Commands_pair.html) available in LAMMPS.

A `pair_style` is parameterised via the `pair_coeff` command.

### Example (Lennard-Jones)

```lammps
pair_style    lj/cut 2.5
pair_coeff    1 1 1.0 1.0 2.5
```

Defines a Lennard-Jones potential via [lj/cut](https://lammps.sandia.gov/doc/pair_lj.html) with a cutoff radius of 2.5 (in distance units). The used potential

$$
  V_{\rm LJ}=4\epsilon\cdot\left[
    \left(\frac{\sigma}{r}\right)^{12} -
    \left(\frac{\sigma}{r}\right)^6
    \right]
$$

has two parameters that are supplied through the `pair_coeff` command. Use

```lammps
pair_coeff I J args
```

to define parameters for atom types `I` and `J`. In the LJ example above, we have assossiated $\sigma=1.0$ and $\epsilon=1.0$ with atom type 1. The last parameter is again a cut-off radius.

> You can use an asterix (*) to denote multiple atom types. If N = the number of atom types, then an asterisk with no numeric values means all types from 1 to N. A leading asterisk means all types from 1 to n (inclusive). A trailing asterisk means all types from n to N (inclusive). A middle asterisk means all types from m to n (inclusive). Note that only type pairs with I <= J are considered; if asterisks imply type pairs where J < I, they are ignored.

:::image Comparison of potentials available in LAMMPS
![LAMMPS Potential Table](/images/lammps_potential_table.png)

The table compares computational effort of potentials available in LAMMPS with the Lennard-Jones potential (and the DFT code VASP). The LJ potential is very computationally efficient, but also the EAM (Embedded Atom Method) is rather efficient compared with other more involved potentials such as ReaxFF (which is popular to model covalent bonds and bond-breaking). Indeed, there is a general trend to more complex potentials roughly following Moore's law as increases in computational resources allow to address more and more complex phenomena.
:::

## Atom Types

In addition to the interaction potentials, you will need to provide information about the atoms themselves. The required information depends on the force field, but usually includes information such as

- positions,
- atomic charges, and
- bonds

There are two main modes available that can be selected with

```lammps
atom_style atomic/full
```

Which one to use depends on the potential used for the calculations.

| Style    | Usage                                                                                            |
| -------- | ------------------------------------------------------------------------------------------------ |
| `atomic` | basic style for usage with simple potentials without bonds or charges (e.g., LJ or MEA)          |
| `full`   | more comprehensive style that includes charges and topology (e.g.., bond angles, dihedrals, ...) |

There are additional, specialised modes implemented in LAMMPS for specific use cases. A full list can be found in the [manual](https://lammps.sandia.gov/doc/atom_style.html).

:::warn Important
The atom type needs to be defined **before** the geometry is initialised.
:::

The format for defining atomic coordinates depends on the choice of `atom_type`. The table below summarises the expected format for each:

![LAMMPS atom_type format](/images/LAMMPS_atom_types_format.png)

## Bond styles

LAMMPS differentiates between pair interactions (defined with `pair_style`) and bonds (defined with `bond_style`). While pair interactions are defined between types of atoms (e.g., all Cu atoms and all Al atoms), **bonds are defined between specific pairs of atoms** and remain in force for the duration of the simulation (unless the bond breaks which is possible in some bond potentials). By contrast, pair potentials are typically defined between all pairs of atoms within a cutoff distance and the set of active interactions changes over time.

## Fix commands

In LAMMPS, a “fix” is any operation that is applied to the system during timestepping or minimization. Examples include updating of atom positions and velocities due to time integration, controlling temperature, applying constraint forces to atoms, enforcing boundary conditions, computing diagnostics, etc. There are [hundreds of fixes defined in LAMMPS](https://lammps.sandia.gov/doc/fix.html) and new ones can be added.

## Computes

Computes define a computation that will be performed on a group of atoms. Quantities calculated by a compute are instantaneous values, meaning they are calculated from information about atoms on the current timestep or iteration, though a compute may internally store some information about a previous state of the system.

```lammps
compute 1 all temp
compute newtemp flow temp/partial 1 1 0
compute 3 all ke/atom
```

:::warn Warning
Defining a compute does not automatically execute the compute.
:::
